# ะะตะฝั 20: ะััะธััะตะฝั ัะฐะทัะฐะฑะพััะธะบะฐ

**AI Advent Challenge - Developer Assistant**

ะฃะผะฝัะน ะฐััะธััะตะฝั ะดะปั ัะฐะทัะฐะฑะพัะบะธ ะฟัะพะตะบัะฐ AIBot ั ะธะฝัะตะณัะฐัะธะตะน RAG, MCP ะธ Git.

## ๐ ะกะพะดะตัะถะฐะฝะธะต ะฟะฐะฟะบะธ

### ะัะฝะพะฒะฝัะต ะบะพะผะฟะพะฝะตะฝัั

1. **git_mcp_server.py** - MCP ัะตัะฒะตั ะดะปั ัะฐะฑะพัั ั Git ัะตะฟะพะทะธัะพัะธะตะผ
   - ะะพะปััะตะฝะธะต ัะตะบััะตะน ะฒะตัะบะธ
   - ะกัะฐััั ัะตะฟะพะทะธัะพัะธั
   - ะััะพัะธั ะบะพะผะผะธัะพะฒ
   - ะะทะผะตะฝะตะฝะฝัะต ัะฐะนะปั
   - ะกะพะดะตัะถะธะผะพะต ัะฐะนะปะพะฒ
   - Git diff

2. **create-project-docs-embeddings.py** - ะกะพะทะดะฐะฝะธะต embeddings ะดะปั ะดะพะบัะผะตะฝัะฐัะธะธ
   - ะะฝะดะตะบัะฐัะธั README.md, ARCHITECTURE.md, CODE_STYLE.md
   - Chunking ะฟะพ ะทะฐะณะพะปะพะฒะบะฐะผ
   - ะะตะฝะตัะฐัะธั embeddings ัะตัะตะท Ollama
   - ะกะพััะฐะฝะตะฝะธะต ะฒ SQLite

3. **project_docs_retrieval.py** - RAG ะฟะพะธัะบ ะฟะพ ะดะพะบัะผะตะฝัะฐัะธะธ ะฟัะพะตะบัะฐ
   - Semantic search ะฟะพ ะดะพะบัะผะตะฝัะฐัะธะธ
   - Cosine similarity
   - ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะฝัะตะบััะฐ ะดะปั LLM

4. **demo_developer_assistant.py** - ะะตะผะพะฝัััะฐัะธะพะฝะฝัะน ัะบัะธะฟั
   - ะขะตััะธัะพะฒะฐะฝะธะต Git MCP ัะตัะฒะตัะฐ
   - ะขะตััะธัะพะฒะฐะฝะธะต RAG ะฟะพะธัะบะฐ
   - ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

5. **SETUP.md** - ะะพัะฐะณะพะฒะฐั ะธะฝััััะบัะธั ะฟะพ ะฝะฐัััะพะนะบะต

## ๐ฏ ะงัะพ ัะตะฐะปะธะทะพะฒะฐะฝะพ

### 1. RAG ะดะปั ะดะพะบัะผะตะฝัะฐัะธะธ ะฟัะพะตะบัะฐ
- โ ะะฝะดะตะบัะฐัะธั ัะฐะนะปะพะฒ README, ARCHITECTURE, CODE_STYLE
- โ ะะตะฝะตัะฐัะธั embeddings ัะตัะตะท Ollama (nomic-embed-text)
- โ Semantic search ั ัะธะปัััะฐัะธะตะน
- โ ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะบะพะฝัะตะบััะฐ ะดะปั LLM

### 2. Git MCP ัะตัะฒะตั
- โ WebSocket ัะตัะฒะตั ะฝะฐ ะฟะพััั 8082
- โ 6 ะธะฝััััะผะตะฝัะพะฒ ะดะปั ัะฐะฑะพัั ั Git
- โ JSON-RPC ะฟัะพัะพะบะพะป
- โ ะะฝัะตะณัะฐัะธั ั ะฑะพัะพะผ

### 3. ะะพะผะฐะฝะดะฐ /help ั RAG
- โ ะะฒะฐ ัะตะถะธะผะฐ: ะฑะฐะทะพะฒะฐั ัะฟัะฐะฒะบะฐ ะธ ะฟะพะธัะบ ะฟะพ ะดะพะบัะผะตะฝัะฐัะธะธ
- โ ะะฝัะตะณัะฐัะธั RAG + Git MCP + DeepSeek API
- โ ะคะพัะผะฐัะธัะพะฒะฐะฝะธะต ะพัะฒะตัะฐ ั ะธััะพัะฝะธะบะฐะผะธ
- โ ะกัะฐัะธััะธะบะฐ ะธัะฟะพะปัะทะพะฒะฐะฝะธั ัะพะบะตะฝะพะฒ

## ๐ ะัััััะน ััะฐัั

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
pip install -r ../requirements.txt
```

**ะขัะตะฑัะตััั:**
- Python 3.8+
- Ollama
- Git

### 2. ะะฐัััะพะนะบะฐ Ollama

```bash
# ะฃััะฐะฝะพะฒะธัั Ollama
# Windows: https://ollama.com/download
# Linux/Mac: curl -fsSL https://ollama.com/install.sh | sh

# ะะฐะณััะทะธัั ะผะพะดะตะปั
ollama pull nomic-embed-text
```

### 3. ะกะพะทะดะฐะฝะธะต embeddings

```bash
python create-project-docs-embeddings.py
```

**ะัะตะผั ะฒัะฟะพะปะฝะตะฝะธั:** 2-5 ะผะธะฝัั

### 4. ะะฐะฟััะบ Git MCP ัะตัะฒะตัะฐ

```bash
python git_mcp_server.py
```

**Endpoint:** ws://localhost:8082/mcp

### 5. ะะฐะฟััะบ ะดะตะผะพะฝัััะฐัะธะธ

```bash
python demo_developer_assistant.py
```

## ๐ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ    ะะพะปัะทะพะฒะฐัะตะปั (Telegram Bot)          โ
โโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโ
               โ /help <ะฒะพะฟัะพั>
               โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ         bot.py: help_command()           โ
โโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโ
       โ                    โ
       โ                    โ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโ
โ Git MCP     โ      โ RAG System   โ
โ Server      โ      โ (project     โ
โ (ะฒะตัะบะฐ,     โ      โ  docs)       โ
โ  ััะฐััั,    โ      โ              โ
โ  ะบะพะผะผะธัั)   โ      โ              โ
โโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโ
       โ                    โ
       โโโโโโโโฌโโโโโโโโโโโโโโ
              โ
     โโโโโโโโโโโโโโโโโโโ
     โ  DeepSeek API   โ
     โ  (ะณะตะฝะตัะฐัะธั     โ
     โ   ะพัะฒะตัะฐ)       โ
     โโโโโโโโโโฌโโโโโโโโโ
              โ
     โโโโโโโโโโโโโโโโโโโ
     โ ะคะพัะผะฐัะธัะพะฒะฐะฝะฝัะน โ
     โ ะพัะฒะตั +         โ
     โ ะธััะพัะฝะธะบะธ       โ
     โโโโโโโโโโโโโโโโโโโ
```

## ๐ง ะะฝัะตะณัะฐัะธั ั ะพัะฝะพะฒะฝัะผ ะฑะพัะพะผ

### ะ bot.py ะดะพะฑะฐะฒะปะตะฝะพ:

```python
# RAG ะธะผะฟะพััั
from project_docs_retrieval import query_project_docs

# MCP ะบะพะฝัะธะณััะฐัะธั
MCP_GIT_SERVER_URL = "ws://localhost:8082/mcp"

# ะะฐััะธัะตะฝะฝะฐั ะบะพะผะฐะฝะดะฐ /help
def help_command(update: Update, context: CallbackContext):
    # ะะตะถะธะผ 1: ะะฐะทะพะฒะฐั ัะฟัะฐะฒะบะฐ
    if not question:
        # ะะพะบะฐะทะฐัั help text

    # ะะตะถะธะผ 2: ะะพะธัะบ ะฟะพ ะดะพะบัะผะตะฝัะฐัะธะธ
    else:
        # 1. ะะพะปััะธัั Git ะบะพะฝัะตะบัั (ัะตะบััะฐั ะฒะตัะบะฐ)
        # 2. RAG ะฟะพะธัะบ ะฟะพ ะดะพะบัะผะตะฝัะฐัะธะธ
        # 3. ะัะทะฒะฐัั DeepSeek API
        # 4. ะคะพัะผะฐัะธัะพะฒะฐัั ะพัะฒะตั ั ะธััะพัะฝะธะบะฐะผะธ
```

## ๐ก ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะ Telegram ะฑะพัะต:

```
/help
โ ะะฐะทะพะฒะฐั ัะฟัะฐะฒะบะฐ ั ะบะพะผะฐะฝะดะฐะผะธ

/help ะบะฐะบ ะดะพะฑะฐะฒะธัั ะฝะพะฒัะน MCP ัะตัะฒะตั
โ ะะพะธัะบ ะฒ ARCHITECTURE.md, ะพัะฒะตั ั ะฟัะธะผะตัะพะผ ะบะพะดะฐ

/help ะฟัะฐะฒะธะปะฐ ััะธะปั ะบะพะดะฐ
โ ะะพะธัะบ ะฒ CODE_STYLE.md, ะพัะฒะตั ั ัะตะบะพะผะตะฝะดะฐัะธัะผะธ

/help ะบะฐะบ ัะฐะฑะพัะฐะตั RAG ัะธััะตะผะฐ
โ ะะพะธัะบ ะฒ ARCHITECTURE.md ะธ README.md

/help ะฐััะธัะตะบัััะฐ ะฑะพัะฐ
โ ะะพะปะฝะพะต ะพะฟะธัะฐะฝะธะต ั ะดะธะฐะณัะฐะผะผะฐะผะธ
```

### ะะตะผะพะฝัััะฐัะธะพะฝะฝัะน ัะบัะธะฟั:

```bash
python demo_developer_assistant.py
```

**ะขะตััะธััะตั:**
- โ Git MCP: ัะตะบััะฐั ะฒะตัะบะฐ, ััะฐััั, ะบะพะผะผะธัั
- โ RAG: ะฟะพะธัะบ ะฟะพ 5 ัะตััะพะฒัะผ ะทะฐะฟัะพัะฐะผ
- โ ะะฝัะตะณัะฐัะธั: ะฟัะธะผะตัั ะบะพะผะฐะฝะดั /help

## ๐ ะกะฒัะทั ั ะพัะฝะพะฒะฝัะผ ะฟัะพะตะบัะพะผ

### ะะพะบัะผะตะฝัะฐัะธั (ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ):
- `../README.md` - ะพะฑัะตะต ะพะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ
- `../ARCHITECTURE.md` - ะฐััะธัะตะบัััะฐ ัะธััะตะผั
- `../CODE_STYLE.md` - ััะธะปั ะบะพะดะฐ

### RAG ัะธััะตะผะฐ (../rag/):
- `../rag/db.sqlite3` - ะฑะฐะทะฐ ะดะฐะฝะฝัั embeddings
- `../rag/retrieval.py` - RAG ะดะปั API ะดะพะบัะผะตะฝัะฐัะธะธ (Pond Mobile)

### ะัะฝะพะฒะฝะพะน ะฑะพั:
- `../bot.py` - Telegram ะฑะพั ั ะธะฝัะตะณัะธัะพะฒะฐะฝะฝะพะน ะบะพะผะฐะฝะดะพะน /help

### MCP ัะตัะฒะตัั:
- `../mcp/mcp_server.py` - Yandex Tracker + Monitoring (ะฟะพัั 8080)
- `../mcp/mcp_server2.py` - Translation (ะฟะพัั 8081)
- Git MCP ะทะดะตัั: `git_mcp_server.py` (ะฟะพัั 8082)

## ๐ฅ ะะตะผะพะฝัััะฐัะธั ะดะปั ะฒะธะดะตะพ

### ะกัะตะฝะฐัะธะน (3 ะผะธะฝััั):

**1. ะะฐะฟััะบ Git MCP ัะตัะฒะตัะฐ (30 ัะตะบ)**
```bash
python git_mcp_server.py
```
ะะพะบะฐะทะฐัั ะฒัะฒะพะด: ัะตะบััะฐั ะฒะตัะบะฐ, 6 ะธะฝััััะผะตะฝัะพะฒ

**2. ะกะพะทะดะฐะฝะธะต embeddings (30 ัะตะบ)**
```bash
python create-project-docs-embeddings.py
```
ะะพะบะฐะทะฐัั: ะพะฑัะฐะฑะพัะบะฐ 3 ะดะพะบัะผะตะฝัะพะฒ, ~45 chunks

**3. ะะตะผะพะฝัััะฐัะธั (1 ะผะธะฝััะฐ)**
```bash
python demo_developer_assistant.py
```
ะะพะบะฐะทะฐัั ะฒัะต ัะตััั: Git MCP, RAG ะฟะพะธัะบ

**4. Telegram ะฑะพั (1 ะผะธะฝััะฐ)**
- `/help` - ะฑะฐะทะพะฒะฐั ัะฟัะฐะฒะบะฐ
- `/help ะบะฐะบ ะดะพะฑะฐะฒะธัั MCP ัะตัะฒะตั` - ะฟะพะธัะบ + ะพัะฒะตั ั ะธััะพัะฝะธะบะฐะผะธ
- `/help ะฟัะฐะฒะธะปะฐ ะบะพะดะฐ` - ะตัะต ะฟัะธะผะตั

## ๐ Troubleshooting

### "Ollama not responding"
```bash
ollama list
# ะัะปะธ ะฝะต ัะฐะฑะพัะฐะตั, ะฟะตัะตะทะฐะฟัััะธัะต Ollama
```

### "No embeddings found"
```bash
python create-project-docs-embeddings.py
# ะกะพะทะดะฐัั ../rag/db.sqlite3 ั ัะฐะฑะปะธัะตะน project_docs
```

### "Git MCP connection refused"
```bash
python git_mcp_server.py
# ะะฐะฟัััะธัะต ัะตัะฒะตั ะฝะฐ ะฟะพััั 8082
```

## ๐ ะกัะฐัะธััะธะบะฐ

### ะคะฐะนะปั ัะพะทะดะฐะฝั:
- 5 Python ัะฐะนะปะพะฒ
- 4 Markdown ะดะพะบัะผะตะฝัะฐ
- 1 ะดะตะผะพ-ัะบัะธะฟั

### ะกััะพะบะธ ะบะพะดะฐ:
- Git MCP ัะตัะฒะตั: ~480 ัััะพะบ
- RAG embeddings: ~240 ัััะพะบ
- RAG retrieval: ~270 ัััะพะบ
- Demo: ~280 ัััะพะบ
- **ะัะตะณะพ: ~1270 ัััะพะบ**

### ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั:
- 6 Git MCP ะธะฝััััะผะตะฝัะพะฒ
- 2 RAG ะผะพะดัะปั
- 2 ัะตะถะธะผะฐ /help
- 1 ะดะตะผะพ-ัะบัะธะฟั

## ๐ ะขะตัะฝะพะปะพะณะธะธ

- **Python 3.8+**
- **Ollama** (nomic-embed-text) - embeddings
- **SQLite** - ััะฐะฝะตะฝะธะต embeddings
- **MCP** - Model Context Protocol
- **WebSocket** - Git MCP ัะตัะฒะตั
- **Starlette + Uvicorn** - ASGI ัะตัะฒะตั
- **DeepSeek API** - ะณะตะฝะตัะฐัะธั ะพัะฒะตัะพะฒ
- **NumPy** - ะฒะตะบัะพัะฝัะต ะพะฟะตัะฐัะธะธ
- **Subprocess** - Git ะบะพะผะฐะฝะดั

## โ ะงะตะบะปะธัั ะฒัะฟะพะปะฝะตะฝะธั ะทะฐะดะฐะฝะธั

- โ RAG ะดะปั ะฟะพะดะบะปััะตะฝะธั ะบ ะดะพะบัะผะตะฝัะฐัะธะธ ะฟัะพะตะบัะฐ
- โ MCP ะดะปั ะฟะพะดะบะปััะตะฝะธั ะบ git-ัะตะฟะพะทะธัะพัะธั
- โ ะะพะผะฐะฝะดะฐ /help ะพัะฒะตัะฐะตั ะฝะฐ ะฒะพะฟัะพัั ะพ ะฟัะพะตะบัะต
- โ ะะพะผะฐะฝะดะฐ /help ะฟะพะดัะบะฐะทัะฒะฐะตั ััะฐะณะผะตะฝัั ะบะพะดะฐ
- โ ะะพะผะฐะฝะดะฐ /help ะฟะพะดัะบะฐะทัะฒะฐะตั ะฟัะฐะฒะธะปะฐ ััะธะปั
- โ ะะตะผะพะฝัััะฐัะธะพะฝะฝัะน ัะบัะธะฟั
- โ ะะพะปะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

## ๐ ะัะพะณะธ

**ะะตะฝั 20: ะััะธััะตะฝั ัะฐะทัะฐะฑะพััะธะบะฐ** ััะฟะตัะฝะพ ัะตะฐะปะธะทะพะฒะฐะฝ! ๐

ะกะพะทะดะฐะฝ ะฟะพะปะฝะพัะตะฝะฝัะน AI-ะฐััะธััะตะฝั, ะบะพัะพััะน:
- ะะพะฝะธะผะฐะตั ััััะบัััั ะธ ะฐััะธัะตะบัััั ะฟัะพะตะบัะฐ
- ะะฝะฐะตั ัะตะบััะตะต ัะพััะพัะฝะธะต Git ัะตะฟะพะทะธัะพัะธั
- ะัะฒะตัะฐะตั ะฝะฐ ะฒะพะฟัะพัั ะพ ะบะพะดะต ะธ ััะธะปะต
- ะะพะดัะบะฐะทัะฒะฐะตั ะฟัะธะผะตัั ะบะพะดะฐ ะธะท ะดะพะบัะผะตะฝัะฐัะธะธ
- ะฃะบะฐะทัะฒะฐะตั ะธััะพัะฝะธะบะธ ะธะฝัะพัะผะฐัะธะธ
- ะะพะปะฝะพัััั ะธะฝัะตะณัะธัะพะฒะฐะฝ ะฒ Telegram ะฑะพัะฐ

---

**ะะฒัะพั:** AI Advent Challenge - ะะตะฝั 20
**ะัะพะตะบั:** AIBot Developer Assistant
**ะะฐัะฐ:** 2026-01-12
